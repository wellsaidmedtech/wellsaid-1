<!DOCTYPE html>
<html lang="en" class="h-full bg-gray-100">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prompt Editor - WellSaid AI Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style type="text/tailwindcss">
        @layer components {
            .btn {
                @apply font-bold py-2 px-4 rounded-lg shadow transition-all duration-150 ease-in-out;
            }
            .btn-primary {
                @apply bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800;
            }
            .btn-secondary {
                @apply bg-gray-200 text-gray-800 hover:bg-gray-300 active:bg-gray-400;
            }
            .form-textarea {
                @apply block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6;
            }
            .form-label {
                @apply block text-sm font-medium leading-6 text-gray-900;
            }
        }
    </style>
</head>
<body class="h-full font-sans antialiased">
    <div class="min-h-full">
        <!-- Header -->
        <header class="bg-white shadow-sm">
            <nav class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
                <!-- FIX: Title is now "WellSaid AI Demo" and links to the dashboard -->
                <a href="{{ url_for('dashboard') }}" class="text-2xl font-bold text-gray-900">WellSaid AI Demo</a>
                <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="py-10">
            <div class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">

                <!-- Flash Messages -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        <div class="mb-4">
                        {% for category, message in messages %}
                            <div class="rounded-md p-4 {{ 'bg-red-100 border-red-400 text-red-700' if category == 'danger' else 'bg-green-100 border-green-400 text-green-700' if category == 'success' else 'bg-blue-100 border-blue-400 text-blue-700' }}" role="alert">
                                <p class="font-bold"><strong>{{ category.title() }}</strong></p>
                                <p>{{ message }}</p>
                            </div>
                        {% endfor %}
                        </div>
                    {% endif %}
                {% endwith %}
                
                <!-- FIX: Moved Page Title from header to here -->
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Admin: Prompt Editor</h2>

                <!-- Form -->
                <form action="{{ url_for('admin_prompts') }}" method="POST" class="space-y-8">
                    
                    {% for key, content in prompts.items() %}
                    <div>
                        <label for="{{ key }}" class="form-label text-lg capitalize">{{ key.replace('_', ' ') }}</glabel>
                        <textarea id="{{ key }}" name="{{ key }}" rows="10" class="form-textarea mt-1">{{ content }}</textarea>
                    </div>
                    {% endfor %}

                    <div class="flex justify-end">
                        <button type="submit" class="btn btn-primary">Save All Prompts</button>
                    </div>
                </form>

            </div>
        </main>
    </div>
</body>
</html>

